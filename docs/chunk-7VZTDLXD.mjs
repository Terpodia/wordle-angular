import './polyfills.server.mjs';
import{E as T,G as z,H as D,I as _,J as G,K as B,L as Q,M as H,N,Q as U,W as V,a as x,b as I,c as h,d as M,e as s,f as O,g as m,h as n,i as g,j as S,k as w,l as C,m as l,n as f,o as d,p as L,q as P,r as R,s as j,t as k,u as p,v as A,w as E,x as F}from"./chunk-PEI2JV3T.mjs";var tt={empty:"empty","non-empty":"non-empty","miss-place":"miss-place","not-belong":"not-belong",success:"success"},$=(()=>{let e=class e{constructor(){this.letter={value:"",state:"empty"},this.letterState=tt}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=s({type:e,selectors:[["app-letter-card"]],inputs:{letter:"letter"},standalone:!0,features:[p],decls:4,vars:4,consts:[[1,"wrapper",3,"ngClass"],[1,"letter"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"span",1),j(2),E(3,"uppercase"),f()()),i&2&&(g("ngClass",o.letterState[o.letter.state]),m(2),k(F(3,2,o.letter.value)))},dependencies:[z,D],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50px;height:50px;border-radius:10px}.wrapper.empty[_ngcontent-%COMP%]{background-color:#fff;border:solid 1px lightgray}.wrapper.non-empty[_ngcontent-%COMP%]{background-color:#fff;border:solid 1px rgb(164,158,158)}.wrapper.miss-place[_ngcontent-%COMP%]{background-color:#e9e951;color:#fff}.wrapper.not-belong[_ngcontent-%COMP%]{background-color:#c0bfbf;color:#fff}.wrapper.success[_ngcontent-%COMP%]{background-color:#4bb84b;color:#fff}.wrapper[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:1000}@media (min-width: 961px){.wrapper[_ngcontent-%COMP%]{width:100px;height:100px}.wrapper[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{font-size:2.3rem}}"]});let r=e;return r})();var q=(r,e)=>{let a={};for(let t=0;t<e.length;t++)a[e[t]]?a[e[t]]++:a[e[t]]=1,e[t]===r[t].value&&(r[t].state="success",a[e[t]]--);for(let t=0;t<e.length;t++)e[t]!==r[t].value&&(a[r[t].value]>0?(a[r[t].value]--,r[t].state="miss-place"):r[t].state="not-belong");return r};var c=(()=>{let e=class e{constructor(){this.wordSize=5,this.tries=6,this.currentRow=0,this.currentCol=0,this.hasEnded=!1,this.secretWord="",this.rows=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();function et(r,e){if(r&1&&d(0,"app-letter-card",1),r&2){let a=e.$implicit;g("letter",a)}}var y=(()=>{let e=class e{constructor(t){this.gameState=t,this.letters=[]}ngOnInit(){this.wordSize=this.gameState.wordSize;for(let t=0;t<this.wordSize;t++)this.letters[t]={value:"",state:"empty"}}get(){return this.letters.map(t=>t.value).join("")}put(t){this.letters[this.gameState.currentCol]={value:t,state:"non-empty"}}delete(){this.letters[this.gameState.currentCol-1]={value:"",state:"empty"}}changeLettersState(){this.letters=q(this.letters,this.gameState.secretWord)}};e.\u0275fac=function(i){return new(i||e)(n(c))},e.\u0275cmp=s({type:e,selectors:[["app-row-letter"]],standalone:!0,features:[p],decls:3,vars:0,consts:[[2,"display","flex","gap","5px"],[3,"letter"]],template:function(i,o){i&1&&(l(0,"div",0),w(1,et,1,1,"app-letter-card",1,S),f()),i&2&&(m(),C(o.letters))},dependencies:[$]});let r=e;return r})();var Z=(()=>{let e=class e{constructor(t){this.gameState=t}submitWord(){if(this.gameState.hasEnded||this.gameState.currentCol<this.gameState.wordSize)return;let t=this.gameState.currentRow>=this.gameState.tries,i=this.gameState.secretWord===this.gameState.rows[this.gameState.currentRow].get();this.gameState.hasEnded=t||i,this.gameState.rows[this.gameState.currentRow].changeLettersState(),this.gameState.currentCol=0,this.gameState.currentRow++}deleteLetter(){this.gameState.hasEnded||this.gameState.currentCol!=0&&(this.gameState.rows[this.gameState.currentRow].delete(),this.gameState.currentCol--)}putLetter(t){this.gameState.hasEnded||this.gameState.currentCol>=this.gameState.wordSize||(this.gameState.rows[this.gameState.currentRow].put(t),this.gameState.currentCol++)}};e.\u0275fac=function(i){return new(i||e)(M(c))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();function it(r,e){r&1&&d(0,"app-row-letter")}var ot=()=>[],J=(()=>{let e=class e{constructor(t,i,o){this.gameState=t,this.gameActions=i,this.platformId=o,this.tries=0}ngOnInit(){this.tries=this.gameState.tries,this.listenerEvents()}ngAfterViewInit(){this.gameState.rows=this.rows.toArray()}listenerEvents(){G(this.platformId)&&I(document,"keydown").subscribe(t=>{t.key==="Enter"?this.gameActions.submitWord():t.key==="Backspace"?this.gameActions.deleteLetter():this.isAlphabetLetter(t.key)&&this.gameActions.putLetter(t.key)})}isAlphabetLetter(t){return/^[a-zA-ZÃ±]$/.test(t)}};e.\u0275fac=function(i){return new(i||e)(n(c),n(Z),n(O))},e.\u0275cmp=s({type:e,selectors:[["app-grid"]],viewQuery:function(i,o){if(i&1&&L(y,5),i&2){let b;P(b=R())&&(o.rows=b)}},standalone:!0,features:[p],decls:3,vars:1,consts:[[1,"wrapper"]],template:function(i,o){i&1&&(l(0,"div",0),w(1,it,1,0,"app-row-letter",null,S),f()),i&2&&(m(),C(A(0,ot).constructor(o.tries)))},dependencies:[y],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;justify-content:center;align-items:center}"]});let r=e;return r})();var nt="https://random-word-api.herokuapp.com/word?lang=es&",K=(()=>{let e=class e{constructor(t,i){this.httpClient=t,this.gameState=i,this.title="wordle-angular"}ngOnInit(){this.httpClient.get(nt+"length=5").pipe(x(t=>t[0].normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())).subscribe(t=>{this.gameState.secretWord=t,console.log(t)})}};e.\u0275fac=function(i){return new(i||e)(n(B),n(c))},e.\u0275cmp=s({type:e,selectors:[["app-root"]],standalone:!0,features:[p],decls:1,vars:0,template:function(i,o){i&1&&d(0,"app-grid")},dependencies:[_,J],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}"]});let r=e;return r})();var W=[];var X={providers:[V(W),N(),Q()]};var at={providers:[U()]},Y=T(X,at);var st=()=>H(K,Y),Bt=st;export{Bt as a};
